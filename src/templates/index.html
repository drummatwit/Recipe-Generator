<!DOCTYPE html>
<html>
<head>
    <title>Recipe Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
    function addIngredient() {
        const input = document.getElementById("ingredient");
        const list = document.getElementById("ingredientsList");
        const hidden = document.getElementById("ingredientsHidden");

        if (input.value.trim() !== "") {
            const li = document.createElement("li");
            li.textContent = input.value;
            list.appendChild(li);

            if (hidden.value === "") {
                hidden.value = input.value;
            } else {
                hidden.value += "," + input.value;
            }
            
            input.value = "";
        }    
    }

    function toggleSidebar() {
        document.getElementById("sidebar").classList.toggle('active');  
        document.getElementById("main").classList.toggle('shifted');
    }

    document.addEventListener("DOMContentLoaded", function() {
        const collapsibles = document.querySelectorAll(".collapsible");

        collapsibles.forEach((btn) => {
            btn.addEventListener("click", function() {
                this.classList.toggle("active");
                const content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        });
    });
</script>

</head>
<body>
    <div id="sidebar" class="sidebar">
        <button class ="closebtn" onclick="toggleSidebar()">x</button>
        <a href="#">Main Page</a>
        <a href="#">Recipes</a>
        <a href="#">Profiles</a>
    </div>

    <div class="topbar">
        <button class ="openbtn" onclick="toggleSidebar()">â˜°</button>
        <h1>Recipe Generator</h1>
    </div>
    
    <div id="main">
        <form method="POST">
            <label>What's in your refrigerator?:</label>
            <input type="text" id="ingredient" placeholder="e.g., chicken">
              <div class="recipe-type-filter">
        <label>Choose Recipe type(s):</label>
        <button type = "button" class = "collapsible"> Choose Recipe Type(s)</button>
        <div class="checkbox-group">
            <label><input type="checkbox" name="recipe_type" value="breakfast"> Breakfast</label>
            <label><input type="checkbox" name="recipe_type" value="main course"> Main Course</label>
            <label><input type="checkbox" name="recipe_type" value="side dish"> Side Dish</label>
            <label><input type="checkbox" name="recipe_type" value="dessert"> Dessert</label>
            <label><input type="checkbox" name="recipe_type" value="appetizer"> Appetizer</label>
            <label><input type="checkbox" name="recipe_type" value="salad"> Salad</label>
            <label><input type="checkbox" name="recipe_type" value="soup"> Soup</label>
        </div>
    </div>

            <div class ="button-group">
                <button type="button" onclick="addIngredient()">Add Ingredient</button>
            </div>

            <h3>Ingredients:</h3>
            <ul id="ingredientsList"></ul>

            <input type="hidden" id="ingredientsHidden" name="ingredients">

            <div class ="button-group">
                <button type="submit">Find your recipes</button>
            </div>
        </form>
    </div>
</body>
</html>